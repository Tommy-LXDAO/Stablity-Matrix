# 服务器配置
server:
  port: 8888  # 应用服务监听端口，默认8080

spring:
  # Spring AI 配置
  ai:
    # OpenAI大模型配置 (适用于任何OpenAI兼容的API)
    openai:
      api-key: ${NEWAPI_KEY:${OPENAI_API_KEY:}}  # NEWAPI_KEY优先，其次OPENAI_API_KEY，最后为空
      base-url: ${NEWAPI_BASE_URL:${OPENAI_BASE_URL:https://api.openai.com}}  # NEWAPI_BASE_URL优先，其次OPENAI_BASE_URL
      chat:
        options:
          model: ${NEWAPI_MODEL:${OPENAI_MODEL:Qwen/Qwen3-235B-A22B-Instruct-2507}}  # NEWAPI_MODEL优先，其次OPENAI_MODEL
      embedding:
        enabled: ${OPENAI_EMBEDDING_ENABLED:false}  # 默认不启用embedding功能
        options:
          model: ${NEWAPI_EMBEDDING_MODEL:${OPENAI_EMBEDDING_MODEL:text-embedding-3-small}}  # Embedding模型配置
    # 向量存储配置
    vectorstore:
      redis:
        initialize-schema: true  # 启动时自动创建Redis向量索引结构（首次部署需开启）
        prefix: stability_rag_prefix  # Redis键名前缀，用于区分不同应用的向量数据
        index: stability_rag_index  # Redis向量索引名称
  application:
    name: lyw-redis-rag  # 应用名称
  # 数据源配置
  data:
    redis:
      host: 127.0.0.1  # Redis服务器地址
      port: 6379  # Redis服务器连接端口（默认6379）
  webflux:
    client:
      response-timeout: 300s
  mvc:
    async:
      request-timeout: 300s

# Chat Client 配置
chat:
  client:
    base-url: ${NEWAPI_BASE_URL:${OPENAI_BASE_URL:https://huazi.jack-rose.site/}}  # 默认使用OpenAI的API地址